import os
import base64
import subprocess

folder_path = f'modules/translation'

file_data = [
    ('data_models.py', 'aW1wb3J0IHRvcmNoCmZyb20gcHlkYW50aWMgaW1wb3J0IEJhc2VNb2RlbApmcm9tIHR5cGluZyBpbXBvcnQgVW5pb24sIE9wdGlvbmFsLCBBbnkKCmZyb20gZGF0YV9tb2RlbHMgaW1wb3J0IEJhc2VNaW5lciwgQmFzZU1vZHVsZSwgTW9kdWxlQ29uZmlnLCBNaW5lclJlcXVlc3QsIGFwcCwgTWluZXJDb25maWcsIFNzNThLZXkKCgpUQVNLX1NUUklOR1MgPSB7CiAgICAic3BlZWNoMnRleHQiOiAiczJ0dCIsCiAgICAic3BlZWNoMnNwZWVjaCI6ICJzMnN0IiwKICAgICJhdXRvX3NwZWVjaF9yZWNvZ25pdGlvbiI6ICJhc3IiLAogICAgInRleHQyc3BlZWNoIjogInQyc3QiLAogICAgInRleHQydGV4dCI6ICJ0MnR0IiwKfQoKVEFSR0VUX0xBTkdVQUdFUyA9IHsKICAgICJFbmdsaXNoIjogImVuZyIsCiAgICAiQWZyaWthYW5zIjogImFmciIsCiAgICAiQW1oYXJpYyI6ICJhbWgiLAogICAgIk1vZGVybiBTdGFuZGFyZCBBcmFiaWMiOiAiYXJiIiwKICAgICJNb3JvY2NhbiBBcmFiaWMiOiAiYXJ5IiwKICAgICJFZ3lwdGlhbiBBcmFiaWMiOiAiYXJ6IiwKICAgICJBc3NhbWVzZSI6ICJhc20iLAogICAgIkFzdHVyaWFuIjogImFzdCIsCiAgICAiTm9ydGggQXplcmJhaWphbmkiOiAiYXpqIiwKICAgICJCZWxhcnVzaWFuIjogImJlbCIsCiAgICAiQmVuZ2FsaSI6ICJiZW4iLAogICAgIkJvc25pYW4iOiAiYm9zIiwKICAgICJCdWxnYXJpYW4iOiAiYnVsIiwKICAgICJDYXRhbGFuIjogImNhdCIsCiAgICAiQ2VidWFubyI6ICJjZWIiLAogICAgIkN6ZWNoIjogImNlcyIsCiAgICAiQ2VudHJhbCI6ICJja2IiLAogICAgIk1hbmRhcmluIENoaW5lc2UiOiAiY21uIiwKICAgICJNYW5kYXJpbiBDaGluZXNlIEhhbnQiOiAiY21uX0hhbnQiLAogICAgIldlbHNoIjogImN5bSIsCiAgICAiRGFuaXNoIjogImRhbiIsCiAgICAiR2VybWFuIjogImRldSIsCiAgICAiRXN0b25pYW4iOiAiZXN0IiwKICAgICJCYXNxdWUiOiAiZXVzIiwKICAgICJGaW5uaXNoIjogImZpbiIsCiAgICAiRnJlbmNoIjogImZyYSIsCiAgICAiTmlnZXJpYW4gRnVsZnVsZGUiOiAiZnV2IiwKICAgICJXZXN0IENlbnRyYWwgT3JvbW8iOiAiZ2F6IiwKICAgICJJcmlzaCI6ICJnbGUiLAogICAgIkdhbGljaWFuIjogImdsZyIsCiAgICAiR3VqYXJhdGkiOiAiZ3VqIiwKICAgICJIZWJyZXciOiAiaGViIiwKICAgICJIaW5kaSI6ICJoaW4iLAogICAgIkNyb2F0aWFuIjogImhydiIsCiAgICAiSHVuZ2FyaWFuIjogImh1biIsCiAgICAiQXJtZW5pYW4iOiAiaHllIiwKICAgICJJZ2JvIjogImlibyIsCiAgICAiSW5kb25lc2lhbiI6ICJpbmQiLAogICAgIkljZWxhbmRpYyI6ICJpc2wiLAogICAgIkl0YWxpYW4iOiAiaXRhIiwKICAgICJKYXZhbmVzZSI6ICJqYXYiLAogICAgIkphcGFuZXNlIjogImpwbiIsCiAgICAiS2FtYmEiOiAia2FtIiwKICAgICJLYW5uYWRhIjogImthbiIsCiAgICAiR2VvcmdpYW4iOiAia2F0IiwKICAgICJLYXpha2giOiAia2F6IiwKICAgICJLYWJ1dmVyZGlhbnUiOiAia2VhIiwKICAgICJIYWxoIE1vbmdvbGlhbiI6ICJraGsiLAogICAgIktobWVyIjogImtobSIsCiAgICAiS3lyZ3l6IjogImtpciIsCiAgICAiS29yZWFuIjogImtvciIsCiAgICAiTGFvIjogImxhbyIsCiAgICAiTGl0aHVhbmlhbiI6ICJsaXQiLAogICAgIkx1eGVtYm91cmdpc2giOiAibHR6IiwKICAgICJHYW5kYSI6ICJsdWciLAogICAgIkx1byI6ICJsdW8iLAogICAgIlN0YW5kYXJkIExhdHZpYW4iOiAibHZzIiwKICAgICJNYWl0aGlsaSI6ICJtYWkiLAogICAgIk1hbGF5YWxhbSI6ICJtYWwiLAogICAgIk1hcmF0aGkiOiAibWFyIiwKICAgICJNYWNlZG9uaWFuIjogIm1rZCIsCiAgICAiTWFsdGVzZSI6ICJtbHQiLAogICAgIk1laXRlaSI6ICJtbmkiLAogICAgIkJ1cm1lc2UiOiAibXlhIiwKICAgICJEdXRjaCI6ICJubGQiLAogICAgIk5vcndlZ2lhbiBOeW5vcnNrIjogIm5ubyIsCiAgICAiTm9yd2VnaWFuIEJva23DpWwiOiAibm9iIiwKICAgICJOZXBhbGkiOiAibnBpIiwKICAgICJOeWFuamEiOiAibnlhIiwKICAgICJPY2NpdGFuIjogIm9jaSIsCiAgICAiT2RpYSI6ICJvcnkiLAogICAgIlB1bmphYmkiOiAicGFuIiwKICAgICJTb3V0aGVybiBQYXNodG8iOiAicGJ0IiwKICAgICJXZXN0ZXJuIFBlcnNpYW4iOiAicGVzIiwKICAgICJQb2xpc2giOiAicG9sIiwKICAgICJQb3J0dWd1ZXNlIjogInBvciIsCiAgICAiUm9tYW5pYW4iOiAicm9uIiwKICAgICJSdXNzaWFuIjogInJ1cyIsCiAgICAiU2xvdmFrIjogInNsayIsCiAgICAiU2xvdmVuaWFuIjogInNsdiIsCiAgICAiU2hvbmEiOiAic25hIiwKICAgICJTaW5kaGkiOiAic25kIiwKICAgICJTb21hbGkiOiAic29tIiwKICAgICJTcGFuaXNoIjogInNwYSIsCiAgICAiU2VyYmlhbiI6ICJzcnAiLAogICAgIlN3ZWRpc2giOiAic3dlIiwKICAgICJTd2FoaWxpIjogInN3aCIsCiAgICAiVGFtaWwiOiAidGFtIiwKICAgICJUZWx1Z3UiOiAidGVsIiwKICAgICJUYWppayI6ICJ0Z2siLAogICAgIlRhZ2Fsb2ciOiAidGdsIiwKICAgICJUaGFpIjogInRoYSIsCiAgICAiVHVya2lzaCI6ICJ0dXIiLAogICAgIlVrcmFpbmlhbiI6ICJ1a3IiLAogICAgIlVyZHUiOiAidXJkIiwKICAgICJOb3J0aGVybiBVemJlayI6ICJ1em4iLAogICAgIlZpZXRuYW1lc2UiOiAidmllIiwKICAgICJYaG9zYSI6ICJ4aG8iLAogICAgIllvcnViYSI6ICJ5b3IiLAogICAgIkNhbnRvbmVzZSI6ICJ5dWUiLAogICAgIkNvbGxvcXVpYWwgTWFsYXkiOiAiemxtIiwKICAgICJTdGFuZGFyZCBNYWxheSI6ICJ6c20iLAogICAgIlp1bHUiOiAienVsIiwKfQoKCmNsYXNzIFRyYW5zbGF0aW9uQ29uZmlnKEJhc2VNb2RlbCk6CiAgICBtb2RlbF9uYW1lX29yX2NhcmQ6IFVuaW9uW3N0ciwgQW55XSA9ICJmYWNlYm9vay9zZWFtbGVzcy1NNFQtVjItbGFyZ2UiCiAgICB2b2NvZGVyX25hbWU6IHN0ciA9ICgKICAgICAgICAidm9jb2Rlcl92MiIKICAgICAgICBpZiBtb2RlbF9uYW1lX29yX2NhcmQgPT0gImZhY2Vib29rL3NlYW1sZXNzLU00VC1WMi1sYXJnZSIKICAgICAgICBlbHNlICJ2b2NvZGVyXzM2bGFuZ3MiCiAgICApCiAgICBkZXZpY2U6IEFueSA9IHRvcmNoLmRldmljZShkZXZpY2U9ImN1ZGE6MCIpCiAgICB0ZXh0X3Rva2VuaXplcjogc3RyID0gbW9kZWxfbmFtZV9vcl9jYXJkCiAgICBhcHBseV9taW50b3g6IGJvb2wgPSAoVHJ1ZSwpCiAgICBkdHlwZTogQW55ID0gKHRvcmNoLmZsb2F0MTYsKQogICAgaW5wdXRfbW9kYWxpdHk6IE9wdGlvbmFsW0FueV0gPSAoTm9uZSwpCiAgICBvdXRwdXRfbW9kYWxpdHk6IE9wdGlvbmFsW0FueV0gPSBOb25lCgoKY2xhc3MgVHJhbnNsYXRpb25EYXRhKEJhc2VNb2RlbCk6CiAgICBpbnB1dDogc3RyCiAgICB0YXNrX3N0cmluZzogc3RyCiAgICBzb3VyY2VfbGFuZ3VhZ2U6IE9wdGlvbmFsW3N0cl0gPSBOb25lCiAgICB0YXJnZXRfbGFuZ3VhZ2U6IHN0cgogICAgCiAgICAKY2xhc3MgVHJhbnNsYXRpb25SZXF1ZXN0KE1pbmVyUmVxdWVzdCk6CiAgICBkZWYgX19pbml0X18oc2VsZiwgZGF0YTogVHJhbnNsYXRpb25EYXRhKToKICAgICAgICBzdXBlcigpLl9faW5pdF9fKCkKICAgICAgICBzZWxmLmRhdGEgPSBkYXRhCgogICAKX19hbGxfXyA9IFsKICAgICJUcmFuc2xhdGlvbkNvbmZpZyIsCiAgICAiVHJhbnNsYXRpb25EYXRhIiwKICAgICJUcmFuc2xhdGlvblJlcXVlc3QiLAogICAgIlRBUkdFVF9MQU5HVUFHRVMiLAogICAgIlRBU0tfU1RSSU5HUyIsCiAgICAiTWluZXJDb25maWciLAogICAgIk1vZHVsZUNvbmZpZyIsCiAgICAiQmFzZU1pbmVyIiwKICAgICJCYXNlTW9kdWxlIiwKICAgICJhcHAiLAogICAgIlNzNThLZXkiCl0='),
    ('__init__.py', ''),
    ('translation_module.py', 'aW1wb3J0IG9zCmZyb20gdHlwaW5nIGltcG9ydCBVbmlvbgpmcm9tIGZhc3RhcGkgaW1wb3J0IEhUVFBFeGNlcHRpb24KZnJvbSBkb3RlbnYgaW1wb3J0IGxvYWRfZG90ZW52CmZyb20gbG9ndXJ1IGltcG9ydCBsb2dnZXIKCmZyb20gLmRhdGFfbW9kZWxzIGltcG9ydCBUcmFuc2xhdGlvblJlcXVlc3QsIE1pbmVyQ29uZmlnLCBNb2R1bGVDb25maWcsIEJhc2VNaW5lciwgVHJhbnNsYXRpb25Db25maWcsIGFwcApmcm9tIC50cmFuc2xhdGlvbiBpbXBvcnQgVHJhbnNsYXRpb24KCmxvYWRfZG90ZW52KCkKCgptb2R1bGVfc2V0dGluZ3MgPSBNb2R1bGVDb25maWcoCiAgICBtb2R1bGVfcGF0aD1vcy5nZXRlbnYoIk1PRFVMRV9QQVRIIiksCiAgICBtb2R1bGVfbmFtZT1vcy5nZXRlbnYoIk1PRFVMRV9OQU1FIiksCiAgICBtb2R1bGVfZW5kcG9pbnQ9b3MuZ2V0ZW52KCJNT0RVTEVfRU5EUE9JTlQiKSwKICAgIG1vZHVsZV91cmw9b3MuZ2V0ZW52KCJNT0RVTEVfVVJMIiksCikKCm1pbmVyX3NldHRpbmdzID0gTWluZXJDb25maWcoCiAgICBtaW5lcl9uYW1lPW9zLmdldGVudigiTUlORVJfTkFNRSIpLAogICAgbWluZXJfa2V5cGF0aD1vcy5nZXRlbnYoIktFWVBBVEhfTkFNRSIpLAogICAgbWluZXJfaG9zdD1vcy5nZXRlbnYoIk1JTkVSX0hPU1QiKSwKICAgIGV4dGVybmFsX2FkZHJlc3M9b3MuZ2V0ZW52KCJFWFRFUk5BTF9BRERSRVNTIiksCiAgICBtaW5lcl9wb3J0PW9zLmdldGVudigiTUlORVJfUE9SVCIpLAogICAgc3Rha2U9b3MuZ2V0ZW52KCJTVEFLRSIpLAogICAgbmV0dWlkPW9zLmdldGVudigiTkVUVUlEIiksCiAgICBmdW5kaW5nX2tleT1vcy5nZXRlbnYoIkZVTkRJTkdfS0VZIiksCiAgICBmdW5kaW5nX21vZGlmaWVyPW9zLmdldGVudigiTU9ESUZJRVIiKSwKICAgIG1vZHVsZV9uYW1lPW9zLmdldGVudigiTU9EVUxFX05BTUUiKQopCnRyYW5zbGF0b3IgPSBUcmFuc2xhdGlvbihUcmFuc2xhdGlvbkNvbmZpZygpKQoKCmNsYXNzIFRyYW5zbGF0aW9uTWluZXIoQmFzZU1pbmVyKToKICAgIAogICAgZGVmIF9faW5pdF9fKAogICAgICAgIHNlbGYsCiAgICAgICAgbWluZXJfY29uZmlnOiBNaW5lckNvbmZpZywKICAgICAgICBtb2R1bGVfY29uZmlnOiBNb2R1bGVDb25maWcKICAgICk6CiAgICAgICAgIiIiCiAgICAgICAgSW5pdGlhbGl6ZXMgdGhlIFRyYW5zbGF0aW9uTWluZXIgY2xhc3Mgd2l0aCBvcHRpb25hbCByb3V0ZSwgaW5wYXRoLCBhbmQgb3V0cGF0aCBwYXJhbWV0ZXJzLgogICAgICAgIAogICAgICAgIFBhcmFtZXRlcnM6CiAgICAgICAgICAgIG1pbmVyX2NvbmZpZyAoTWluZXJDb25maWcpOiBUaGUgcm91dGUgZm9yIHRoZSB0cmFuc2xhdGlvbi4KICAgICAgICAgICAgbW9kdWxlX2NvbmZpZyAoTW9kdWxlQ29uZmlnKTogVGhlIGlucHV0IHBhdGggZm9yIHRyYW5zbGF0aW9uLgogICAgICAgICIiIgogICAgICAgIHN1cGVyKCkuX19pbml0X18obWluZXJfY29uZmlnLCBtb2R1bGVfc2V0dGluZ3MpICAgICAgICAKICAgICAgICBvcy5tYWtlZGlycyhtb2R1bGVfY29uZmlnLm1vZHVsZV9wYXRoLCBleGlzdF9vaz1UcnVlKQogICAgICAgIG9zLm1ha2VkaXJzKGYie21vZHVsZV9jb25maWcubW9kdWxlX3BhdGh9L2luIiwgZXhpc3Rfb2s9VHJ1ZSkKICAgICAgICBvcy5tYWtlZGlycyhmInttb2R1bGVfY29uZmlnLm1vZHVsZV9wYXRofS9vdXQiLCBleGlzdF9vaz1UcnVlKQogICAgCiAgICBkZWYgcHJvY2VzcyhzZWxmLCBtaW5lcl9yZXF1ZXN0OiBUcmFuc2xhdGlvblJlcXVlc3QpIC0+IFVuaW9uW3N0ciwgYnl0ZXNdOgogICAgICAgICIiIgogICAgICAgIFByb2Nlc3NlcyB0aGUgZ2l2ZW4gYFRyYW5zbGF0aW9uUmVxdWVzdGAgb2JqZWN0IGFuZCByZXR1cm5zIHRoZSB0cmFuc2xhdGlvbiByZXN1bHQuCgogICAgICAgIFBhcmFtZXRlcnM6CiAgICAgICAgICAgIG1pbmVyX3JlcXVlc3QgKFRyYW5zbGF0aW9uUmVxdWVzdCk6IFRoZSByZXF1ZXN0IG9iamVjdCBjb250YWluaW5nIHRoZSBpbnB1dCBkYXRhLCB0YXNrIHN0cmluZywgc291cmNlIGxhbmd1YWdlLCBhbmQgdGFyZ2V0IGxhbmd1YWdlLgoKICAgICAgICBSZXR1cm5zOgogICAgICAgICAgICBVbmlvbltzdHIsIGJ5dGVzXTogVGhlIHRyYW5zbGF0aW9uIHJlc3VsdC4KCiAgICAgICAgUmFpc2VzOgogICAgICAgICAgICBIVFRQRXhjZXB0aW9uOiBJZiBhbiBlcnJvciBvY2N1cnMgZHVyaW5nIHRoZSB0cmFuc2xhdGlvbiBwcm9jZXNzLgoKICAgICAgICAiIiIKICAgICAgICB0cnk6CiAgICAgICAgICAgIHJldHVybiB0cmFuc2xhdG9yLnByb2Nlc3MobWluZXJfcmVxdWVzdCkKICAgICAgICBleGNlcHQgRXhjZXB0aW9uIGFzIGU6CiAgICAgICAgICAgIGxvZ2dlci5lcnJvcihmIkVycm9yIHByb2Nlc3NpbmcgdHJhbnNsYXRpb246IHtlfSIpCiAgICAgICAgICAgIHJhaXNlIEhUVFBFeGNlcHRpb24oc3RhdHVzX2NvZGU9NTAwLCBkZXRhaWw9ZiJFcnJvciBwcm9jZXNzaW5nIHRyYW5zbGF0aW9uOiB7ZX0iKSBmcm9tIGUKCmlmIF9fbmFtZV9fID09ICJfX21haW5fXyI6CiAgICBtaW5lciA9IFRyYW5zbGF0aW9uTWluZXIobW9kdWxlX2NvbmZpZz1tb2R1bGVfc2V0dGluZ3MsIG1pbmVyX2NvbmZpZz1taW5lcl9zZXR0aW5ncykKCiAgICBtaW5lci5hZGRfcm91dGUobWluZXIsIGFwcCkK'),
    ('translation.py', 'aW1wb3J0IGlvCmltcG9ydCBzY2lweQppbXBvcnQgdG9yY2gKaW1wb3J0IGJhc2U2NAppbXBvcnQgdG9yY2hhdWRpbwoKZnJvbSBsb2d1cnUgaW1wb3J0IGxvZ2dlcgpmcm9tIHR5cGluZyBpbXBvcnQgT3B0aW9uYWwKZnJvbSBmdW5jdG9vbHMgaW1wb3J0IGxydV9jYWNoZQpmcm9tIHR5cGluZyBpbXBvcnQgRGljdCwgVHVwbGUsIFVuaW9uCmZyb20gdHJhbnNmb3JtZXJzIGltcG9ydCBBdXRvUHJvY2Vzc29yLCBTZWFtbGVzc000VHYyTW9kZWwKZnJvbSBweWR1YiBpbXBvcnQgQXVkaW9TZWdtZW50Cgpmcm9tIC5kYXRhX21vZGVscyBpbXBvcnQgVEFSR0VUX0xBTkdVQUdFUywgVEFTS19TVFJJTkdTLCBUcmFuc2xhdGlvblJlcXVlc3QsIFRyYW5zbGF0aW9uQ29uZmlnCgoKY2xhc3MgVHJhbnNsYXRpb246CiAgICBkZWYgX19pbml0X18oc2VsZiwgdHJhbnNsYXRpb25fY29uZmlnOiBUcmFuc2xhdGlvbkNvbmZpZyk6CiAgICAgICAgIiIiCiAgICAgICAgSW5pdGlhbGl6ZXMgYSBuZXcgaW5zdGFuY2Ugb2YgdGhlIFRyYW5zbGF0aW9uIGNsYXNzLgoKICAgICAgICBBcmdzOgogICAgICAgICAgICB0cmFuc2xhdGlvbl9jb25maWcgKFRyYW5zbGF0aW9uQ29uZmlnKTogVGhlIGNvbmZpZ3VyYXRpb24gb2JqZWN0IGZvciB0cmFuc2xhdGlvbi4KCiAgICAgICAgSW5pdGlhbGl6ZXMgdGhlIGZvbGxvd2luZyBpbnN0YW5jZSB2YXJpYWJsZXM6CiAgICAgICAgICAgIC0gdHJhbnNsYXRpb25fY29uZmlnIChUcmFuc2xhdGlvbkNvbmZpZyk6IFRoZSBjb25maWd1cmF0aW9uIG9iamVjdCBmb3IgdHJhbnNsYXRpb24uCiAgICAgICAgICAgIC0gcHJvY2Vzc29yIChBdXRvUHJvY2Vzc29yKTogVGhlIHByb2Nlc3NvciBvYmplY3QgZm9yIHByZXByb2Nlc3NpbmcgaW5wdXQgZGF0YS4KICAgICAgICAgICAgLSBtb2RlbCAoU2VhbWxlc3NNNFR2Mk1vZGVsKTogVGhlIG1vZGVsIG9iamVjdCBmb3IgdHJhbnNsYXRpb24uCiAgICAgICAgICAgIC0gZGV2aWNlICh0b3JjaC5kZXZpY2UpOiBUaGUgZGV2aWNlIHRvIHJ1biB0aGUgbW9kZWwgb24gKENVREEgaWYgYXZhaWxhYmxlLCBvdGhlcndpc2UgQ1BVKS4KICAgICAgICAgICAgLSB0YXJnZXRfbGFuZ3VhZ2VzIChEaWN0W3N0ciwgc3RyXSk6IEEgZGljdGlvbmFyeSBtYXBwaW5nIHRhcmdldCBsYW5ndWFnZXMgdG8gdGhlaXIgY29kZXMuCiAgICAgICAgICAgIC0gdGFza19zdHJpbmdzIChEaWN0W3N0ciwgc3RyXSk6IEEgZGljdGlvbmFyeSBtYXBwaW5nIHRhc2sgc3RyaW5ncyB0byB0aGVpciBjb2Rlcy4KICAgICAgICAgICAgLSBkYXRhX2lucHV0IChOb25lKTogVGhlIGlucHV0IGRhdGEgZm9yIHRyYW5zbGF0aW9uLgogICAgICAgICAgICAtIHRhc2tfc3RyaW5nIChOb25lKTogVGhlIHRhc2sgc3RyaW5nIGZvciB0cmFuc2xhdGlvbi4KICAgICAgICAgICAgLSBzb3VyY2VfbGFuZ3VhZ2UgKE5vbmUpOiBUaGUgc291cmNlIGxhbmd1YWdlIGZvciB0cmFuc2xhdGlvbi4KICAgICAgICAgICAgLSB0YXJnZXRfbGFuZ3VhZ2UgKE5vbmUpOiBUaGUgdGFyZ2V0IGxhbmd1YWdlIGZvciB0cmFuc2xhdGlvbi4KICAgICAgICAiIiIKICAgICAgICBzZWxmLnRyYW5zbGF0aW9uX2NvbmZpZyA9IHRyYW5zbGF0aW9uX2NvbmZpZwogICAgICAgIHNlbGYucHJvY2Vzc29yID0gQXV0b1Byb2Nlc3Nvci5mcm9tX3ByZXRyYWluZWQodHJhbnNsYXRpb25fY29uZmlnLm1vZGVsX25hbWVfb3JfY2FyZCkKICAgICAgICBzZWxmLm1vZGVsID0gU2VhbWxlc3NNNFR2Mk1vZGVsLmZyb21fcHJldHJhaW5lZCh0cmFuc2xhdGlvbl9jb25maWcubW9kZWxfbmFtZV9vcl9jYXJkKQogICAgICAgIHNlbGYuZGV2aWNlID0gdG9yY2guZGV2aWNlKCJjdWRhIiBpZiB0b3JjaC5jdWRhLmlzX2F2YWlsYWJsZSgpIGVsc2UgImNwdSIpCiAgICAgICAgc2VsZi5tb2RlbC50byhzZWxmLmRldmljZSkKICAgICAgICBzZWxmLnRhcmdldF9sYW5ndWFnZXM6IERpY3Rbc3RyLCBzdHJdID0gVEFSR0VUX0xBTkdVQUdFUwogICAgICAgIHNlbGYudGFza19zdHJpbmdzOiBEaWN0W3N0ciwgc3RyXSA9IFRBU0tfU1RSSU5HUwogICAgICAgIHNlbGYuZGF0YV9pbnB1dCA9IE5vbmUKICAgICAgICBzZWxmLnRhc2tfc3RyaW5nID0gTm9uZQogICAgICAgIHNlbGYuc291cmNlX2xhbmd1YWdlID0gTm9uZQogICAgICAgIHNlbGYudGFyZ2V0X2xhbmd1YWdlID0gTm9uZQoKICAgIEBscnVfY2FjaGUobWF4c2l6ZT0xMjgpCiAgICBkZWYgX2dldF9sYW5ndWFnZShzZWxmLCBsYW5ndWFnZTogc3RyKSAtPiBzdHI6CiAgICAgICAgIiIiCiAgICAgICAgRnVuY3Rpb24gdG8gcmV0cmlldmUgdGhlIGxhbmd1YWdlIGZyb20gdGhlIHRhcmdldF9sYW5ndWFnZXMgZGljdGlvbmFyeS4KICAgICAgICAKICAgICAgICBQYXJhbWV0ZXJzOgogICAgICAgICAgICBzZWxmOiBUaGUgVHJhbnNsYXRpb24gb2JqZWN0LgogICAgICAgICAgICBsYW5ndWFnZTogQSBzdHJpbmcgcmVwcmVzZW50aW5nIHRoZSBsYW5ndWFnZSB0byByZXRyaWV2ZS4KICAgICAgICAKICAgICAgICBSZXR1cm5zOgogICAgICAgICAgICBBIHN0cmluZyByZXByZXNlbnRpbmcgdGhlIGxhbmd1YWdlIGZyb20gdGhlIHRhcmdldF9sYW5ndWFnZXMgZGljdGlvbmFyeS4KICAgICAgICAiIiIKICAgICAgICB0cnk6CiAgICAgICAgICAgIHJldHVybiBzZWxmLnRhcmdldF9sYW5ndWFnZXNbbGFuZ3VhZ2VdCiAgICAgICAgZXhjZXB0IEtleUVycm9yIGFzIGU6CiAgICAgICAgICAgIGxvZ2dlci5lcnJvcihmIkludmFsaWQgbGFuZ3VhZ2U6IHtsYW5ndWFnZX0ge2V9IikKICAgICAgICAgICAgcmFpc2UgVmFsdWVFcnJvcihmIkludmFsaWQgbGFuZ3VhZ2U6IHtsYW5ndWFnZX0iKSBmcm9tIGUKCiAgICBkZWYgcHJvY2VzcyhzZWxmLCBtaW5lcl9yZXF1ZXN0OiBUcmFuc2xhdGlvblJlcXVlc3QpIC0+IFR1cGxlW1VuaW9uW3N0ciwgTm9uZV0sIFVuaW9uW3RvcmNoLlRlbnNvciwgTm9uZV1dOgogICAgICAgICIiIgogICAgICAgIEEgZnVuY3Rpb24gdGhhdCBwcm9jZXNzZXMgYSBUcmFuc2xhdGlvblJlcXVlc3Qgb2JqZWN0IHRvIHBlcmZvcm0gdHJhbnNsYXRpb24gdGFza3MuIAogICAgICAgIFJldHJpZXZlcyBpbnB1dCBkYXRhLCB0YXNrIHN0cmluZywgc291cmNlIGFuZCB0YXJnZXQgbGFuZ3VhZ2VzLCBwcmVwcm9jZXNzZXMgdGhlIGlucHV0IGRhdGEsIAogICAgICAgIHByZWRpY3RzIHRoZSBvdXRwdXQgYmFzZWQgb24gdGhlIGlucHV0IGFuZCBsYW5ndWFnZXMsIGFuZCBwcm9jZXNzZXMgdGhlIGZpbmFsIG91dHB1dC4gCiAgICAgICAgUmFpc2VzIFZhbHVlRXJyb3JzIGZvciBpbnZhbGlkIHRhc2sgc3RyaW5ncyBhbmQgbWlzc2luZyBpbnB1dCBkYXRhLgoKICAgICAgICBQYXJhbWV0ZXJzOgogICAgICAgICAgICBzZWxmOiBUaGUgVHJhbnNsYXRpb24gb2JqZWN0LgogICAgICAgICAgICBtaW5lcl9yZXF1ZXN0IChUcmFuc2xhdGlvblJlcXVlc3QpOiBUaGUgcmVxdWVzdCBvYmplY3QgY29udGFpbmluZyBpbnB1dCBkYXRhLCB0YXNrIHN0cmluZywgCiAgICAgICAgICAgICAgICBzb3VyY2UgbGFuZ3VhZ2UsIGFuZCB0YXJnZXQgbGFuZ3VhZ2UuCgogICAgICAgIFJldHVybnM6CiAgICAgICAgICAgIFR1cGxlW1VuaW9uW3N0ciwgTm9uZV0sIFVuaW9uW3RvcmNoLlRlbnNvciwgTm9uZV1dOiAKICAgICAgICAgICAgICAgIEEgdHVwbGUgY29udGFpbmluZyBlaXRoZXIgYSBzdHJpbmcgb3IgTm9uZSwgYW5kIGVpdGhlciBhIHRvcmNoLlRlbnNvciBvciBOb25lLCAKICAgICAgICAgICAgICAgIHJlcHJlc2VudGluZyB0aGUgcHJvY2Vzc2VkIG91dHB1dC4KICAgICAgICAiIiIKICAgICAgICBpZiAiaW5wdXQiIGluIG1pbmVyX3JlcXVlc3QuZGF0YToKICAgICAgICAgICAgc2VsZi5kYXRhX2lucHV0ID0gbWluZXJfcmVxdWVzdC5kYXRhWyJpbnB1dCJdCiAgICAgICAgaWYgInRhc2tfc3RyaW5nIiBpbiBtaW5lcl9yZXF1ZXN0LmRhdGE6CiAgICAgICAgICAgIHNlbGYudGFza19zdHJpbmcgPSBtaW5lcl9yZXF1ZXN0LmRhdGFbInRhc2tfc3RyaW5nIl0KICAgICAgICBpZiAic291cmNlX2xhbmd1YWdlIiBpbiBtaW5lcl9yZXF1ZXN0LmRhdGE6CiAgICAgICAgICAgIHNlbGYuc291cmNlX2xhbmd1YWdlID0gbWluZXJfcmVxdWVzdC5kYXRhWyJzb3VyY2VfbGFuZ3VhZ2UiXS50aXRsZSgpCiAgICAgICAgaWYgInRhcmdldF9sYW5ndWFnZSIgaW4gbWluZXJfcmVxdWVzdC5kYXRhOgogICAgICAgICAgICBzZWxmLnRhcmdldF9sYW5ndWFnZSA9IG1pbmVyX3JlcXVlc3QuZGF0YVsidGFyZ2V0X2xhbmd1YWdlIl0udGl0bGUoKQoKICAgICAgICBpZiBub3Qgc2VsZi50YXNrX3N0cmluZzoKICAgICAgICAgICAgcmFpc2UgVmFsdWVFcnJvcihmIkludmFsaWQgdGFzayBzdHJpbmc6IHttaW5lcl9yZXF1ZXN0LmRhdGF9IikKCiAgICAgICAgaWYgc2VsZi5kYXRhX2lucHV0IGlzIE5vbmU6CiAgICAgICAgICAgIHJhaXNlIFZhbHVlRXJyb3IoIk5vIGlucHV0IHByb3ZpZGVkIikKICAgICAgICBpZiBzZWxmLnRhc2tfc3RyaW5nLnN0YXJ0c3dpdGgoInNwZWVjaCIpOgogICAgICAgICAgICB0cnk6CiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgc2VsZi5kYXRhX2lucHV0ID0gc2VsZi5fcHJlcHJvY2VzcyhzZWxmLmRhdGFfaW5wdXQpCiAgICAgICAgICAgIGV4Y2VwdCBFeGNlcHRpb24gYXMgZToKICAgICAgICAgICAgICAgIGxvZ2dlci5lcnJvcihmIkVycm9yIHByZXByb2Nlc3NpbmcgaW5wdXQ6IHtlfSIpCiAgICAgICAgICAgICAgICByYWlzZSBWYWx1ZUVycm9yKGYiRXJyb3IgcHJlcHJvY2Vzc2luZyBpbnB1dDoge2V9IikgZnJvbSBlCiAgICAgICAgCiAgICAgICAgb3V0cHV0ID0gTm9uZQogICAgICAgIHdpdGggdG9yY2gubm9fZ3JhZCgpOgogICAgICAgICAgICBvdXRwdXQgPSBzZWxmLl9wcmVkaWN0KAogICAgICAgICAgICAgICAgaW5wdXQ9c2VsZi5kYXRhX2lucHV0LAogICAgICAgICAgICAgICAgdGFza19zdHI9c2VsZi50YXNrX3N0cmluZ3Nbc2VsZi50YXNrX3N0cmluZ10sCiAgICAgICAgICAgICAgICBzcmNfbGFuZz1zZWxmLnRhcmdldF9sYW5ndWFnZXNbc2VsZi5zb3VyY2VfbGFuZ3VhZ2VdLAogICAgICAgICAgICAgICAgdGd0X2xhbmc9c2VsZi50YXJnZXRfbGFuZ3VhZ2VzW3NlbGYudGFyZ2V0X2xhbmd1YWdlXQogICAgICAgICAgICApCiAgICAgICAgICAgIAogICAgICAgIGlmIHNlbGYudGFza19zdHJpbmcuZW5kc3dpdGgoInNwZWVjaCIpOgogICAgICAgICAgICBvdXRwdXQgPSBzZWxmLl9wcm9jZXNzX2F1ZGlvX291dHB1dChvdXRwdXQpCiAgICAgICAgZWxzZToKICAgICAgICAgICAgb3V0cHV0ID0gb3V0cHV0LmVuY29kZSgidXRmLTgiKQoKICAgICAgICByZXR1cm4gc2VsZi5fcHJvY2Vzc19vdXRwdXQob3V0cHV0KQogICAgCiAgICBkZWYgX3ByZXByb2Nlc3Moc2VsZiwgaW5wdXRfZGF0YSk6CiAgICAgICAgIiIiCiAgICAgICAgUHJlcHJvY2Vzc2VzIHRoZSBpbnB1dCBkYXRhIGJ5IHdyaXRpbmcgaXQgdG8gYSBmaWxlIGFuZCByZXR1cm5pbmcgdGhlIGZpbGUgcGF0aC4KCiAgICAgICAgQXJnczoKICAgICAgICAgICAgaW5wdXRfZGF0YSAoc3RyKTogVGhlIGJhc2U2NCBlbmNvZGVkIGF1ZGlvIGRhdGEgdG8gYmUgcHJlcHJvY2Vzc2VkLgoKICAgICAgICBSZXR1cm5zOgogICAgICAgICAgICBzdHI6IFRoZSBmaWxlIHBhdGggb2YgdGhlIHByZXByb2Nlc3NlZCBhdWRpbyBmaWxlLgoKICAgICAgICBSYWlzZXM6CiAgICAgICAgICAgIE5vbmUKICAgICAgICAiIiIKICAgICAgICB3aXRoIG9wZW4oIm1vZHVsZXMvdHJhbnNsYXRpb24vaW4vYXVkaW9fcmVxdWVzdC53YXYiLCAid2IiKSBhcyBmOgogICAgICAgICAgICBmLndyaXRlKGJhc2U2NC5iNjRkZWNvZGUoaW5wdXRfZGF0YSkpCiAgICAgICAgcmV0dXJuICJtb2R1bGVzL3RyYW5zbGF0aW9uL2luL2F1ZGlvX3JlcXVlc3Qud2F2IgogICAgCiAgICBkZWYgX3Byb2Nlc3NfdGV4dF9pbnB1dHMoc2VsZiwgaW5wdXRfZGF0YTogc3RyLCBzcmNfbGFuZzogc3RyKSAtPiBEaWN0W3N0ciwgdG9yY2guVGVuc29yXToKICAgICAgICAiIiIKICAgICAgICBQcm9jZXNzZXMgdGV4dCBpbnB1dHMgYnkgdXRpbGl6aW5nIHRoZSBwcm9jZXNzb3IgdG8gY29udmVydCBpbnB1dCBkYXRhIGludG8gdG9yY2ggdGVuc29ycy4KCiAgICAgICAgUGFyYW1ldGVyczoKICAgICAgICAgICAgc2VsZjogVGhlIFRyYW5zbGF0aW9uIG9iamVjdC4KICAgICAgICAgICAgaW5wdXRfZGF0YSAoc3RyKTogVGhlIGlucHV0IHRleHQgZGF0YSB0byBiZSBwcm9jZXNzZWQuCiAgICAgICAgICAgIHNyY19sYW5nIChzdHIpOiBUaGUgc291cmNlIGxhbmd1YWdlIG9mIHRoZSBpbnB1dCB0ZXh0LgoKICAgICAgICBSZXR1cm5zOgogICAgICAgICAgICBEaWN0W3N0ciwgdG9yY2guVGVuc29yXTogQSBkaWN0aW9uYXJ5IGNvbnRhaW5pbmcgdG9yY2ggdGVuc29ycyBhcyB2YWx1ZXMgZm9yIGRpZmZlcmVudCBrZXlzLgogICAgICAgICIiIgogICAgICAgIHJldHVybiBzZWxmLnByb2Nlc3Nvcih0ZXh0PWlucHV0X2RhdGEsIHNyY19sYW5nPXNyY19sYW5nLCByZXR1cm5fdGVuc29ycz0icHQiKQoKICAgIGRlZiBfcHJvY2Vzc19hdWRpb19pbnB1dChzZWxmLCBpbnB1dF9kYXRhOiBzdHIsIHNyY19sYW5nOiBzdHIpIC0+IERpY3Rbc3RyLCB0b3JjaC5UZW5zb3JdOgogICAgICAgICIiIgogICAgICAgIFByb2Nlc3NlcyB0aGUgYXVkaW8gaW5wdXQgZGF0YSBhbmQgcmV0dXJucyBhIGRpY3Rpb25hcnkgb2YgdGVuc29ycy4KCiAgICAgICAgQXJnczoKICAgICAgICAgICAgaW5wdXRfZGF0YSAoc3RyKTogVGhlIHBhdGggdG8gdGhlIGF1ZGlvIGZpbGUuCiAgICAgICAgICAgIHNyY19sYW5nIChzdHIpOiBUaGUgc291cmNlIGxhbmd1YWdlIG9mIHRoZSBhdWRpby4KCiAgICAgICAgUmV0dXJuczoKICAgICAgICAgICAgRGljdFtzdHIsIHRvcmNoLlRlbnNvcl06IEEgZGljdGlvbmFyeSBjb250YWluaW5nIHRoZSBwcm9jZXNzZWQgdGVuc29ycy4KICAgICAgICAiIiIKICAgICAgICB3YXZlZm9ybSwgc2FtcGxlX3JhdGUgPSB0b3JjaGF1ZGlvLmxvYWQoaW5wdXRfZGF0YSkKICAgICAgICBpZiBzYW1wbGVfcmF0ZSAhPSAxNjAwMDoKICAgICAgICAgICAgd2F2ZWZvcm0gPSB0b3JjaGF1ZGlvLmZ1bmN0aW9uYWwucmVzYW1wbGUod2F2ZWZvcm0sIHNhbXBsZV9yYXRlLCAxNjAwMCkKICAgICAgICByZXR1cm4gc2VsZi5wcm9jZXNzb3IoYXVkaW9zPXdhdmVmb3JtLnNxdWVlemUoKSwgc3JjX2xhbmc9c3JjX2xhbmcsIHNhbXBsaW5nX3JhdGU9MTYwMDAsIHJldHVybl90ZW5zb3JzPSJwdCIpCgogICAgZGVmIF9nZW5lcmF0ZV9hdWRpbyhzZWxmLCBpbnB1dF9kYXRhOiBEaWN0W3N0ciwgdG9yY2guVGVuc29yXSwgdGd0X2xhbmc6IHN0cikgLT4gdG9yY2guVGVuc29yOgogICAgICAgICIiIgogICAgICAgIEdlbmVyYXRlIGFuIGF1ZGlvIHRlbnNvciBiYXNlZCBvbiB0aGUgaW5wdXQgZGF0YSBhbmQgdGFyZ2V0IGxhbmd1YWdlLgoKICAgICAgICBBcmdzOgogICAgICAgICAgICBpbnB1dF9kYXRhIChEaWN0W3N0ciwgdG9yY2guVGVuc29yXSk6IEEgZGljdGlvbmFyeSBjb250YWluaW5nIGlucHV0IGRhdGEgdGVuc29ycy4KICAgICAgICAgICAgdGd0X2xhbmcgKHN0cik6IFRoZSB0YXJnZXQgbGFuZ3VhZ2UgZm9yIHRoZSBnZW5lcmF0ZWQgYXVkaW8uCgogICAgICAgIFJldHVybnM6CiAgICAgICAgICAgIHRvcmNoLlRlbnNvcjogVGhlIGdlbmVyYXRlZCBhdWRpbyB0ZW5zb3IuCgogICAgICAgICIiIgogICAgICAgIGlucHV0X2RhdGEgPSB7azogdi50byhzZWxmLmRldmljZSkgZm9yIGssIHYgaW4gaW5wdXRfZGF0YS5pdGVtcygpfQogICAgICAgIHJldHVybiBzZWxmLm1vZGVsLmdlbmVyYXRlKCoqaW5wdXRfZGF0YSwgdGd0X2xhbmc9dGd0X2xhbmcpWzBdCgogICAgZGVmIF9nZW5lcmF0ZV90ZXh0KHNlbGYsIGlucHV0X2RhdGE6IERpY3Rbc3RyLCB0b3JjaC5UZW5zb3JdLCB0Z3RfbGFuZzogc3RyKSAtPiBzdHI6CiAgICAgICAgIiIiCiAgICAgICAgR2VuZXJhdGVzIHRleHQgYmFzZWQgb24gdGhlIGlucHV0IGRhdGEgYW5kIHRhcmdldCBsYW5ndWFnZS4KCiAgICAgICAgQXJnczoKICAgICAgICAgICAgaW5wdXRfZGF0YSAoRGljdFtzdHIsIHRvcmNoLlRlbnNvcl0pOiBBIGRpY3Rpb25hcnkgY29udGFpbmluZyBpbnB1dCBkYXRhIHRlbnNvcnMuCiAgICAgICAgICAgIHRndF9sYW5nIChzdHIpOiBUaGUgdGFyZ2V0IGxhbmd1YWdlIGZvciB0aGUgZ2VuZXJhdGVkIHRleHQuCgogICAgICAgIFJldHVybnM6CiAgICAgICAgICAgIHN0cjogVGhlIGdlbmVyYXRlZCB0ZXh0LgogICAgICAgICIiIgogICAgICAgIGlucHV0X2RhdGEgPSB7azogdi50byhzZWxmLmRldmljZSkgZm9yIGssIHYgaW4gaW5wdXRfZGF0YS5pdGVtcygpfQogICAgICAgIG91dHB1dF90b2tlbnMgPSBzZWxmLm1vZGVsLmdlbmVyYXRlKCoqaW5wdXRfZGF0YSwgdGd0X2xhbmc9dGd0X2xhbmcsIGdlbmVyYXRlX3NwZWVjaD1GYWxzZSkKICAgICAgICByZXR1cm4gc2VsZi5wcm9jZXNzb3IuZGVjb2RlKG91dHB1dF90b2tlbnNbMF0udG9saXN0KClbMF0sIHNraXBfc3BlY2lhbF90b2tlbnM9VHJ1ZSkKCiAgICBkZWYgX3ByZWRpY3Qoc2VsZiwgKiprd2FyZ3MpIC0+IFR1cGxlW1VuaW9uW3N0ciwgTm9uZV0sIFVuaW9uW3RvcmNoLlRlbnNvciwgTm9uZV1dOgogICAgICAgICIiIgogICAgICAgIEEgZnVuY3Rpb24gdGhhdCBwcm9jZXNzZXMgaW5wdXQgZGF0YSBmb3IgcHJlZGljdGlvbi4gCiAgICAgICAgUmV0cmlldmVzIGlucHV0IGRhdGEsIHRhc2sgc3RyaW5nLCBzb3VyY2UgYW5kIHRhcmdldCBsYW5ndWFnZXMsIHByZXByb2Nlc3NlcyB0aGUgaW5wdXQgZGF0YSBiYXNlZCBvbiB0aGUgdGFzayBzdHJpbmcsIAogICAgICAgIGdlbmVyYXRlcyBvdXRwdXQgYmFzZWQgb24gdGhlIGlucHV0IGFuZCBsYW5ndWFnZXMsIGFuZCByZXR1cm5zIHRoZSBvdXRwdXQuIAogICAgICAgIExvZ3MgaW50ZXJtZWRpYXRlIGluZm9ybWF0aW9uIGZvciBkZWJ1Z2dpbmcuIAogICAgICAgIFJhaXNlcyBlcnJvcnMgZm9yIHByb2Nlc3NpbmcgYW5kIHByZWRpY3Rpb24gZmFpbHVyZXMuCgogICAgICAgIEFyZ3M6CiAgICAgICAgICAgICoqa3dhcmdzOiBBIGRpY3Rpb25hcnkgY29udGFpbmluZyBpbnB1dCBkYXRhLCB0YXNrIHN0cmluZywgc291cmNlIGxhbmd1YWdlLCBhbmQgdGFyZ2V0IGxhbmd1YWdlLgoKICAgICAgICBSZXR1cm5zOgogICAgICAgICAgICBUdXBsZVtVbmlvbltzdHIsIE5vbmVdLCBVbmlvblt0b3JjaC5UZW5zb3IsIE5vbmVdXTogCiAgICAgICAgICAgICAgICBBIHR1cGxlIGNvbnRhaW5pbmcgZWl0aGVyIGEgc3RyaW5nIG9yIE5vbmUsIGFuZCBlaXRoZXIgYSB0b3JjaC5UZW5zb3Igb3IgTm9uZSwgCiAgICAgICAgICAgICAgICByZXByZXNlbnRpbmcgdGhlIHByZWRpY3RlZCBvdXRwdXQuCiAgICAgICAgIiIiCiAgICAgICAgdHJ5OgogICAgICAgICAgICBpbnB1dF9kYXRhID0ga3dhcmdzWydpbnB1dCddCiAgICAgICAgICAgIHRhc2tfc3RyID0ga3dhcmdzWyd0YXNrX3N0ciddCiAgICAgICAgICAgIHNyY19sYW5nID0ga3dhcmdzWydzcmNfbGFuZyddCiAgICAgICAgICAgIHRndF9sYW5nID0ga3dhcmdzWyd0Z3RfbGFuZyddCiAgICAgICAgICAgIAogICAgICAgICAgICBpZiB0YXNrX3N0ci5zdGFydHN3aXRoKCdzMicpOgogICAgICAgICAgICAgICAgaW5wdXRfZGF0YSA9IHNlbGYuX3Byb2Nlc3NfYXVkaW9faW5wdXQoaW5wdXRfZGF0YSwgc3JjX2xhbmcpCiAgICAgICAgICAgIGVsc2U6CiAgICAgICAgICAgICAgICBpbnB1dF9kYXRhID0gc2VsZi5fcHJvY2Vzc190ZXh0X2lucHV0cyhpbnB1dF9kYXRhLCBzcmNfbGFuZykKICAgICAgICAgICAgICAgIAogICAgICAgICAgICBsb2dnZXIuZGVidWcoc3RyKGlucHV0X2RhdGEpWzozMF0pCiAgICAgICAgICAgIGxvZ2dlci5kZWJ1Zyh0eXBlKGlucHV0X2RhdGEpKQogICAgICAgICAgICBsb2dnZXIuZGVidWcoa3dhcmdzKQogICAgICAgICAgICBvdXRwdXQgPSBOb25lCiAgICAgICAgICAgIHRyeToKICAgICAgICAgICAgICAgIGlmIHNlbGYudGFza19zdHJpbmcuZW5kc3dpdGgoInNwZWVjaCIpOgogICAgICAgICAgICAgICAgICAgIG91dHB1dCA9IHNlbGYuX2dlbmVyYXRlX2F1ZGlvKGlucHV0X2RhdGEsIHRndF9sYW5nKQogICAgICAgICAgICAgICAgZWxzZToKICAgICAgICAgICAgICAgICAgICBvdXRwdXQgPSBzZWxmLl9nZW5lcmF0ZV90ZXh0KGlucHV0X2RhdGEsIHRndF9sYW5nKQogICAgICAgICAgICBleGNlcHQgQXR0cmlidXRlRXJyb3IgYXMgZToKICAgICAgICAgICAgICAgIGxvZ2dlci5lcnJvcihmIkVycm9yIHByb2Nlc3NpbmcgdHJhbnNsYXRpb246IHtlfSIpCiAgICAgICAgICAgICAgICByYWlzZSBWYWx1ZUVycm9yKGYiRXJyb3IgcHJvY2Vzc2luZyB0cmFuc2xhdGlvbjoge2V9IikgZnJvbSBlCiAgICAgICAgICAgIGxvZ2dlci5kZWJ1ZyhvdXRwdXQpCiAgICAgICAgICAgIGxvZ2dlci5kZWJ1Zyh0eXBlKG91dHB1dCkpCiAgICAgICAgICAgIHJldHVybiBvdXRwdXQKICAgICAgICAKICAgICAgICBleGNlcHQgRXhjZXB0aW9uIGFzIGU6CiAgICAgICAgICAgIGxvZ2dlci5lcnJvcihmIkVycm9yIHByb2Nlc3NpbmcgdHJhbnNsYXRpb246IHtlfSIpCiAgICAgICAgICAgIHJhaXNlCiAgICAgICAgCiAgICBkZWYgX3Byb2Nlc3NfYXVkaW9fb3V0cHV0KHNlbGYsIG91dHB1dDogdG9yY2guVGVuc29yKSAtPiB0b3JjaC5UZW5zb3I6CiAgICAgICAgIiIiCiAgICAgICAgUHJvY2VzcyB0aGUgYXVkaW8gb3V0cHV0IHRlbnNvciBhbmQgcmV0dXJuIGl0IGFzIGEgYnl0ZXMgb2JqZWN0LgoKICAgICAgICBBcmdzOgogICAgICAgICAgICBvdXRwdXQgKHRvcmNoLlRlbnNvcik6IFRoZSBhdWRpbyBvdXRwdXQgdGVuc29yIHRvIGJlIHByb2Nlc3NlZC4KCiAgICAgICAgUmV0dXJuczoKICAgICAgICAgICAgdG9yY2guVGVuc29yOiBUaGUgcHJvY2Vzc2VkIGF1ZGlvIG91dHB1dCBhcyBhIGJ5dGVzIG9iamVjdC4KCiAgICAgICAgUmFpc2VzOgogICAgICAgICAgICBWYWx1ZUVycm9yOiBJZiB0aGVyZSBpcyBhbiBlcnJvciBwcm9jZXNzaW5nIHRoZSBhdWRpbyBvdXRwdXQuCiAgICAgICAgIiIiCiAgICAgICAgdHJ5OgogICAgICAgICAgICBidWZmZXIgPSBpby5CeXRlc0lPKCkKICAgICAgICAgICAgdG9yY2guc2F2ZShvdXRwdXQsIGJ1ZmZlcikKICAgICAgICBleGNlcHQgRXhjZXB0aW9uIGFzIGU6CiAgICAgICAgICAgIGxvZ2dlci5lcnJvcihmIkVycm9yIHByb2Nlc3NpbmcgYXVkaW8gb3V0cHV0OiB7ZX0iKQogICAgICAgICAgICByYWlzZSBWYWx1ZUVycm9yKGYiRXJyb3IgcHJvY2Vzc2luZyBhdWRpbyBvdXRwdXQ6IHtlfSIpIGZyb20gZQogICAgICAgIHJldHVybiBidWZmZXIuZ2V0dmFsdWUoKQogICAgCiAgICBkZWYgX3Byb2Nlc3Nfb3V0cHV0KHNlbGYsIG91dHB1dDogc3RyKSAtPiBzdHI6CiAgICAgICAgIiIiCiAgICAgICAgUHJvY2VzcyB0aGUgZmluYWwgb3V0cHV0IHRvIGVuY29kZSBpdCBpbiBiYXNlNjQgYW5kIGRlY29kZSBpdCB0byB1dGYtOC4KCiAgICAgICAgQXJnczoKICAgICAgICAgICAgb3V0cHV0IChzdHIpOiBUaGUgZmluYWwgb3V0cHV0IHRvIGJlIHByb2Nlc3NlZC4KCiAgICAgICAgUmV0dXJuczoKICAgICAgICAgICAgc3RyOiBUaGUgcHJvY2Vzc2VkIG91dHB1dCBhZnRlciBlbmNvZGluZyBhbmQgZGVjb2RpbmcuCiAgICAgICAgUmFpc2VzOgogICAgICAgICAgICBWYWx1ZUVycm9yOiBJZiB0aGVyZSBpcyBhbiBlcnJvciBwcm9jZXNzaW5nIHRoZSBmaW5hbCBvdXRwdXQuCiAgICAgICAgIiIiCiAgICAgICAgdHJ5OgogICAgICAgICAgICBvdXRwdXQgPSBiYXNlNjQuYjY0ZW5jb2RlKG91dHB1dCkuZGVjb2RlKCJ1dGYtOCIpCiAgICAgICAgZXhjZXB0IEV4Y2VwdGlvbiBhcyBlOgogICAgICAgICAgICBsb2dnZXIuZXJyb3IoZiJFcnJvciBwcm9jZXNzaW5nIGZpbmFsIG91dHB1dDoge2V9IikKICAgICAgICAgICAgcmFpc2UgVmFsdWVFcnJvcihmIkVycm9yIHByb2Nlc3NpbmcgZmluYWwgb3V0cHV0OiB7ZX0iKSBmcm9tIGUKICAgICAgICByZXR1cm4gb3V0cHV0CgogICAgCmRlZiB0ZXh0MnRleHQodHJhbnNsYXRpb246IFRyYW5zbGF0aW9uLCBtaW5lcl9yZXF1ZXN0OiBPcHRpb25hbFtUcmFuc2xhdGlvblJlcXVlc3RdID0gTm9uZSk6CiAgICAiIiIKICAgIEdlbmVyYXRlcyBhIHRyYW5zbGF0aW9uIG9mIHRoZSBpbnB1dCB0ZXh0IGZyb20gRW5nbGlzaCB0byBGcmVuY2ggdXNpbmcgdGhlIGdpdmVuIFRyYW5zbGF0aW9uIG9iamVjdC4KCiAgICBBcmdzOgogICAgICAgIHRyYW5zbGF0aW9uIChUcmFuc2xhdGlvbik6IFRoZSBUcmFuc2xhdGlvbiBvYmplY3QgdXNlZCB0byBnZW5lcmF0ZSB0aGUgdHJhbnNsYXRpb24uCiAgICAgICAgbWluZXJfcmVxdWVzdCAoT3B0aW9uYWxbVHJhbnNsYXRpb25SZXF1ZXN0XSwgb3B0aW9uYWwpOiBUaGUgb3B0aW9uYWwgVHJhbnNsYXRpb25SZXF1ZXN0IG9iamVjdCBjb250YWluaW5nIGFkZGl0aW9uYWwgZGF0YSBmb3IgdGhlIHRyYW5zbGF0aW9uLiBEZWZhdWx0cyB0byBOb25lLgoKICAgIFJldHVybnM6CiAgICAgICAgc3RyOiBUaGUgdHJhbnNsYXRlZCB0ZXh0IGZyb20gRW5nbGlzaCB0byBGcmVuY2guCgogICAgRXhhbXBsZToKICAgICAgICA+Pj4gdHJhbnNsYXRpb24gPSBUcmFuc2xhdGlvbigpCiAgICAgICAgPj4+IG1pbmVyX3JlcXVlc3QgPSBUcmFuc2xhdGlvblJlcXVlc3QoZGF0YT17ImlucHV0IjogIkhlbGxvLCBteSBuYW1lIGlzIEpvaG4gRG9lLiIsICJ0YXNrX3N0cmluZyI6ICJ0ZXh0MnRleHQiLCAic291cmNlX2xhbmd1YWdlIjogIkVuZ2xpc2giLCAidGFyZ2V0X2xhbmd1YWdlIjogIkZyZW5jaCJ9KQogICAgICAgID4+PiB0ZXh0MnRleHQodHJhbnNsYXRpb24sIG1pbmVyX3JlcXVlc3QpCiAgICAgICAgJ0JvbmpvdXIsIGplIG0nYXBwZWxsZSBKb2huIERvZS4nCiAgICAiIiIKICAgIHRyYW5zbGF0aW9uX3JlcXVlc3QgPSBtaW5lcl9yZXF1ZXN0IG9yIFRyYW5zbGF0aW9uUmVxdWVzdCgKICAgICAgICBkYXRhPXsiaW5wdXQiOiAiSGVsbG8sIG15IG5hbWUgaXMgSm9obiBEb2UuIiwgInRhc2tfc3RyaW5nIjogInRleHQydGV4dCIsICJzb3VyY2VfbGFuZ3VhZ2UiOiAiRW5nbGlzaCIsICJ0YXJnZXRfbGFuZ3VhZ2UiOiAiRnJlbmNoIn0KICAgICkKICAgIHJldHVybiB0cmFuc2xhdGlvbi5wcm9jZXNzKHRyYW5zbGF0aW9uX3JlcXVlc3QpCgoKZGVmIHRleHQyc3BlZWNoKHRyYW5zbGF0aW9uOiBUcmFuc2xhdGlvbiwgbWluZXJfcmVxdWVzdDogT3B0aW9uYWxbVHJhbnNsYXRpb25SZXF1ZXN0XSA9IE5vbmUpOgogICAgIiIiCiAgICBHZW5lcmF0ZXMgc3BlZWNoIGZyb20gdGV4dCB1c2luZyB0aGUgZ2l2ZW4gVHJhbnNsYXRpb24gb2JqZWN0LgoKICAgIEFyZ3M6CiAgICAgICAgdHJhbnNsYXRpb24gKFRyYW5zbGF0aW9uKTogVGhlIFRyYW5zbGF0aW9uIG9iamVjdCB1c2VkIHRvIGdlbmVyYXRlIHRoZSBzcGVlY2guCiAgICAgICAgbWluZXJfcmVxdWVzdCAoT3B0aW9uYWxbVHJhbnNsYXRpb25SZXF1ZXN0XSwgb3B0aW9uYWwpOiBUaGUgb3B0aW9uYWwgVHJhbnNsYXRpb25SZXF1ZXN0IG9iamVjdCBjb250YWluaW5nIGFkZGl0aW9uYWwgZGF0YSBmb3IgdGhlIHNwZWVjaCBnZW5lcmF0aW9uLiBEZWZhdWx0cyB0byBOb25lLgoKICAgIFJldHVybnM6CiAgICAgICAgVW5pb25bc3RyLCBOb25lXTogVGhlIGdlbmVyYXRlZCBzcGVlY2ggYXMgYSBzdHJpbmcsIG9yIE5vbmUgaWYgYW4gZXJyb3Igb2NjdXJyZWQuCiAgICAiIiIKICAgIHRyYW5zbGF0aW9uX3JlcXVlc3QgPSBtaW5lcl9yZXF1ZXN0IG9yIFRyYW5zbGF0aW9uUmVxdWVzdCgKICAgICAgICBkYXRhPXsiaW5wdXQiOiAiSGVsbG8sIG15IG5hbWUgaXMgSm9obiBEb2UuIiwgInRhc2tfc3RyaW5nIjogInRleHQyc3BlZWNoIiwgInNvdXJjZV9sYW5ndWFnZSI6ICJFbmdsaXNoIiwgInRhcmdldF9sYW5ndWFnZSI6ICJGcmVuY2gifQogICAgKQogICAgcmV0dXJuIHRyYW5zbGF0aW9uLnByb2Nlc3ModHJhbnNsYXRpb25fcmVxdWVzdCkKCgpkZWYgc3BlZWNoMnRleHQodHJhbnNsYXRpb246IFRyYW5zbGF0aW9uLCBtaW5lcl9yZXF1ZXN0OiBPcHRpb25hbFtUcmFuc2xhdGlvblJlcXVlc3RdID0gTm9uZSk6CiAgICAiIiIKICAgIEEgZnVuY3Rpb24gdGhhdCBjb252ZXJ0cyBzcGVlY2ggaW5wdXQgdG8gdGV4dCB1c2luZyBhIGdpdmVuIFRyYW5zbGF0aW9uIG9iamVjdC4KICAgIAogICAgQXJnczoKICAgICAgICB0cmFuc2xhdGlvbiAoVHJhbnNsYXRpb24pOiBUaGUgVHJhbnNsYXRpb24gb2JqZWN0IHVzZWQgZm9yIHRoZSBjb252ZXJzaW9uLgogICAgICAgIG1pbmVyX3JlcXVlc3QgKE9wdGlvbmFsW1RyYW5zbGF0aW9uUmVxdWVzdF0sIG9wdGlvbmFsKTogQWRkaXRpb25hbCBkYXRhIGZvciB0aGUgY29udmVyc2lvbi4gRGVmYXVsdHMgdG8gTm9uZS4KICAgICAgICAKICAgIFJldHVybnM6CiAgICAgICAgVGhlIHByb2Nlc3NlZCB0ZXh0IG91dHB1dC4KICAgICIiIgogICAgdHJhbnNsYXRpb25fcmVxdWVzdCA9IG1pbmVyX3JlcXVlc3Qgb3IgVHJhbnNsYXRpb25SZXF1ZXN0KAogICAgICAgIGRhdGE9eyJpbnB1dCI6ICJtb2R1bGVzL3RyYW5zbGF0aW9uL2luL2F1ZGlvX3JlcXVlc3Qud2F2IiwgInRhc2tfc3RyaW5nIjogInNwZWVjaDJ0ZXh0IiwgInNvdXJjZV9sYW5ndWFnZSI6ICJFbmdsaXNoIiwgInRhcmdldF9sYW5ndWFnZSI6ICJGcmVuY2gifQogICAgKQogICAgcmV0dXJuIHRyYW5zbGF0aW9uLnByb2Nlc3ModHJhbnNsYXRpb25fcmVxdWVzdCkKCgpkZWYgc3BlZWNoMnNwZWVjaCh0cmFuc2xhdGlvbjogVHJhbnNsYXRpb24sIG1pbmVyX3JlcXVlc3Q6IE9wdGlvbmFsW1RyYW5zbGF0aW9uUmVxdWVzdF0gPSBOb25lKToKICAgICIiIgogICAgQ29udmVydHMgc3BlZWNoIGlucHV0IHRvIHNwZWVjaCBvdXRwdXQgdXNpbmcgYSBnaXZlbiBUcmFuc2xhdGlvbiBvYmplY3QuCiAgICAKICAgIEFyZ3M6CiAgICAgICAgdHJhbnNsYXRpb24gKFRyYW5zbGF0aW9uKTogVGhlIFRyYW5zbGF0aW9uIG9iamVjdCB1c2VkIGZvciB0aGUgY29udmVyc2lvbi4KICAgICAgICBtaW5lcl9yZXF1ZXN0IChPcHRpb25hbFtUcmFuc2xhdGlvblJlcXVlc3RdLCBvcHRpb25hbCk6IEFkZGl0aW9uYWwgZGF0YSBmb3IgdGhlIGNvbnZlcnNpb24uIERlZmF1bHRzIHRvIE5vbmUuCiAgICAgICAgCiAgICBSZXR1cm5zOgogICAgICAgIFRoZSBwcm9jZXNzZWQgc3BlZWNoIG91dHB1dC4KICAgICIiIgogICAgdHJhbnNsYXRpb25fcmVxdWVzdCA9IG1pbmVyX3JlcXVlc3Qgb3IgVHJhbnNsYXRpb25SZXF1ZXN0KAogICAgICAgIGRhdGE9eyJpbnB1dCI6ICJtb2R1bGVzL3RyYW5zbGF0aW9uL2luL2F1ZGlvX3JlcXVlc3Qud2F2IiwgInRhc2tfc3RyaW5nIjogInNwZWVjaDJzcGVlY2giLCAic291cmNlX2xhbmd1YWdlIjogIkVuZ2xpc2giLCAidGFyZ2V0X2xhbmd1YWdlIjogIkZyZW5jaCJ9CiAgICApCiAgICByZXR1cm4gdHJhbnNsYXRpb24ucHJvY2Vzcyh0cmFuc2xhdGlvbl9yZXF1ZXN0KQogICAgCgppZiBfX25hbWVfXyA9PSAiX19tYWluX18iOgogICAgdHJhbnNsYXRpb24gPSBUcmFuc2xhdGlvbihUcmFuc2xhdGlvbkNvbmZpZygpKQogICAgcmVzdWx0ID0gc3BlZWNoMnRleHQodHJhbnNsYXRpb24pCiAgICBwcmludChmInNwZWVjaDJ0ZXh0OiB7cmVzdWx0fSIpCiAgICByZXN1bHQgPSBzcGVlY2gyc3BlZWNoKHRyYW5zbGF0aW9uKQogICAgcHJpbnQoZiJzcGVlY2gyc3BlZWNoOiB7cmVzdWx0fSIpCiAgICByZXN1bHQgPSB0ZXh0MnRleHQodHJhbnNsYXRpb24pCiAgICBwcmludChmInRleHQydGV4dDoge3Jlc3VsdH0iKQogICAgcmVzdWx0ID0gdGV4dDJzcGVlY2godHJhbnNsYXRpb24pCiAgICBwcmludChmInRleHQyc3BlZWNoOiB7cmVzdWx0fSIpCiAgICAgICAgCiAgICA='),
    ('install_translation.sh', 'IyEvYmluL2Jhc2gKCnNldCAtZQoKc291cmNlIC4vLnZlbnYvYmluL2FjdGl2YXRlCgpweXRob24gLW0gcGlwIGluc3RhbGwgLS11cGdyYWRlIHBpcAoKcGlwIGluc3RhbGwgc2V0dXB0b29scyB3aGVlbCBnbnVyZWFkbGluZQpwaXAgaW5zdGFsbCBzbmRmaWxlIGdnbWwtcHl0aG9uIHN1YnN0cmF0ZS1pbnRlcmZhY2UgYml0dGVuc29yIGxvZ3VydQpwaXAgaW5zdGFsbCBmYXN0YXBpIHV2aWNvcm4gbG9ndXJ1IHJlcXVlc3RzIHN1YnN0cmF0ZS1pbnRlcmZhY2UKCmlmIGNvbW1hbmQgLXYgYXB0LWdldCA+L2Rldi9udWxsOyB0aGVuCiAgICBzdWRvIGFwdC1nZXQgdXBkYXRlICYmIHN1ZG8gYXB0LWdldCB1cGdyYWRlIC15CiAgICBzdWRvIGFwdC1nZXQgaW5zdGFsbCBweXRob24zIHB5dGhvbjMtZGV2IHB5dGhvbjMtdmVudiBweXRob24zLXBpcCBweXRob24taXMtcHl0aG9uMyBsaWJzbmRmaWxlMS1kZXYgbGliZ21wMTAtZGV2IC15CmVsaWYgY29tbWFuZCAtdiBwYWNtYW4gPi9kZXYvbnVsbDsgdGhlbgogICAgc3VkbyBwYWNtYW4gLVN5dSAtLW5vY29uZmlybQogICAgc3VkbyBwYWNtYW4gLVMgcHl0aG9uIHB5dGhvbi1waXAgcHl0aG9uLXZpcnR1YWxlbnYgbGlic25kZmlsZSBnbXAgLS1ub2NvbmZpcm0KZWxzZQogICAgZWNobyAiVGhpcyBzY3JpcHQgcmVxdWlyZXMgYSBMaW51eCBkaXN0cmlidXRpb24gd2l0aCBlaXRoZXIgYXB0IG9yIHBhY21hbi4iCiAgICBleGl0IDEKZmkKCmlmIFsgISAtZCAiLi9tb2R1bGVzL3RyYW5zbGF0aW9uL3NlYW1sZXNzIiBdOyB0aGVuCiAgICBnaXQgY2xvbmUgaHR0cHM6Ly9naXRodWIuY29tL2ZhY2Vib29rcmVzZWFyY2gvc2VhbWxlc3NfY29tbXVuaWNhdGlvbi5naXQgLi9tb2R1bGVzL3RyYW5zbGF0aW9uL3NlYW1sZXNzCiAgICAKZmkKcGlwIGluc3RhbGwgLi9tb2R1bGVzL3RyYW5zbGF0aW9uL3NlYW1sZXNzCnBpcCBpbnN0YWxsIGdpdCtodHRwczovL2dpdGh1Yi5jb20vaHVnZ2luZ2ZhY2UvdHJhbnNmb3JtZXJzIHRvcmNoIHRvcmNoYXVkaW8gdG9yY2h2aXNpb24gZmFpcnNlcTIKCm1rZGlyIC1wIC4vbW9kdWxlcy90cmFuc2xhdGlvbi9pbgoKbWtkaXIgLXAgLi9tb2R1bGVzL3RyYW5zbGF0aW9uL291dAo='),
]

for relative_path, encoded_content in file_data:
    full_path = os.path.join(folder_path, relative_path)
    os.makedirs(os.path.dirname(full_path), exist_ok=True)
    with open(full_path, 'wb') as f:
        f.write(base64.b64decode(encoded_content))
    print(f'Created: {full_path}')
command = ['bash', 'modules/translation/install_translation.sh']
subprocess.run(command, check=True)
